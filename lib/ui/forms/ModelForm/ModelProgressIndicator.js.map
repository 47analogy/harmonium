{"version":3,"sources":["../../../../src/ui/forms/ModelForm/ModelProgressIndicator.es6"],"names":[],"mappings":"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","file":"ModelProgressIndicator.js","sourcesContent":["Rev.registerComponent('ModelProgressIndicator', class ModelProgressIndicator extends React.Component {\n\n  static get Status() {\n    return this._Status = this._Status || {\n      STARTED: 0,\n      REQUESTED: 1,\n      SYNCED: 2,\n      ERRORED: 3,\n    }\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      status: this.constructor.Status.STARTED,\n    }\n\n    this.onRequest = this.onRequest.bind(this)\n    this.onSync = this.onSync.bind(this)\n    this.onError = this.onError.bind(this)\n  }\n\n  render() {\n    return (\n      <span className={this.progressClasses()}>\n        {this.childForCurrentStatus()}\n      </span>\n    )\n  }\n\n  childForCurrentStatus() {\n    const statusNames = ['started', 'requested', 'synced', 'errored']\n\n    for(let i = 0; i < statusNames.length; i++) {\n      const currentStatus = this.childForStatus(statusNames[i])\n\n      if(currentStatus) {\n        return currentStatus\n      }\n    }\n  }\n\n  childForStatus(statusName) {\n    if(this.props[statusName] && this.state.status === this.constructor.Status[statusName.toUpperCase()]) {\n      return this.props[statusName]\n    }\n  }\n\n  componentDidMount() {\n    this.props.model.on('request', this.onRequest)\n    this.props.model.on('sync', this.onSync)\n    this.props.model.on('error', this.onError)\n  }\n\n  componentWillUnmount() {\n    this.props.model.off('request', this.onRequest)\n    this.props.model.off('sync', this.onSync)\n    this.props.model.off('error', this.onError)\n  }\n\n  onRequest() {\n    this.setState({\n      status: this.constructor.Status.REQUESTED,\n    })\n  }\n\n  onSync() {\n    this.setState({\n      status: this.constructor.Status.SYNCED,\n    })\n  }\n\n  onError() {\n    this.setState({\n      status: this.constructor.Status.ERRORED,\n    })\n  }\n\n  progressClasses() {\n    return this.suitSet('ModelProgressIndicator', {\n      started: this.state.status === this.constructor.Status.STARTED,\n      requested: this.state.status === this.constructor.Status.REQUESTED,\n      synced: this.state.status === this.constructor.Status.SYNCED,\n      errored: this.state.status === this.constructor.Status.ERRORED,\n    })\n  }\n})\n"]}